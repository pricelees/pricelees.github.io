{"componentChunkName":"component---src-templates-category-template-js","path":"/posts/aws","result":{"pageContext":{"currentCategory":"aws","categories":["All","level4","aws","level2","Spring","API","Specification","JsonFormat","ObjectMapper","Interceptor","Exception","Welcome"],"edges":[{"node":{"id":"bfe0fa40-34f2-5b61-933a-b7deb86cfa75","excerpt":"배경 팀원의 코드를 리뷰하고 있었는데, 아래와 같은 코드가 있었습니다. 실제 코드와 다르며 내용 파악을 위해 일부 수정하였습니다. 내용은 중요하지 않긴 하지만.. 간단하게만 말씀드리면 ELB에서의 헬스체크를 의도적으로 실패하도록 하는 API 입니다. 이 코드에서의 핵심은 클라이언트의 IP(=remoteHost)가 로컬호스트인 경우에만 OK 응답을 주겠다는 건데, 여기서 의문이 들었던 것은 “Nginx 설정과 무관하게 getRemoteHost()가 항상 실제 클라이언트의 IP를 반환할 것을 보장하는지?” 였는데요, 의문이 들었던 내용부터 실제 테스트를 하며 확인한 결과를 하나하나 작성해 보겠습니다.  시작하기 전에, 이번 글에서 사용하는 인프라 구조입니다! 질문 이전 문단에 나왔던 코드의 getRemoteHost() 부분에 아래와 같은 질문을 남겼었습니다.  찝찝했던 이유는 이전에 ELB를 사용하기 전 EC2로 직접 요청을 보냈을 때 클라이언트 정보를 읽어오지 못해 문제가 발생했던 …","fields":{"slug":"/woowacourse/level4/클라이언트_IP_확인/"},"frontmatter":{"categories":"level4 aws","title":"AWS ELB 와 Springboot 에서의 클라이언트 IP 확인","date":"November 05, 2024"}},"next":{"fields":{"slug":"/woowacourse/level2/API_BREAK_CHANGE/"}},"previous":null}]}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}