{"componentChunkName":"component---src-templates-blog-template-js","path":"/woowacourse/level2/API_BREAK_CHANGE/","result":{"data":{"cur":{"id":"64d8c7a4-da93-5468-ae13-3676d01bb29e","html":"<h2 id=\"ë°°ê²½\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%EA%B2%BD\" aria-label=\"ë°°ê²½ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë°°ê²½</h2>\n<p><a href=\"https://github.com/woowacourse/spring-roomescape-waiting/pull/30\">ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì˜ ì„¸ ë²ˆì§¸ ë¯¸ì…˜</a>ì„ ì§„í–‰í•˜ë©°, ë¦¬ë·°ì–´ê»˜ì„œ ì¢‹ì€ ì˜ê²¬ì„ ì£¼ì…¨ìŠµë‹ˆë‹¤. ì›¹ êµ¬í˜„ì„ ì²˜ìŒ\ní•´ë³´ëŠ” ì…ì¥ì—ì„œ ìƒê°ì§€ë„ ëª»í–ˆë˜ <code class=\"language-text\">API Break Change</code> ì— ëŒ€í•œ ê²ƒì¸ë°ìš”, API JSON ì‘ë‹µì€ <strong>Listê°€ ì•„ë‹Œ Object í˜•ì‹</strong>ìœ¼ë¡œ í•˜ëŠ” ê²ƒì„ ê¶Œí•˜ì…¨ê³  ì´ë²ˆ ê¸€ì—ì„œëŠ” ì´ ë‚´ìš©ì— ëŒ€í•´ ê¸°ë¡í•´ë³´ê³ ì\ní•©ë‹ˆë‹¤.</p>\n<br/>\n<h2 id=\"api-break-changeë€\" style=\"position:relative;\"><a href=\"#api-break-change%EB%9E%80\" aria-label=\"api break changeë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API Break Changeë€?</h2>\n<p><a href=\"https://nordicapis.com/how-to-manage-breaking-changes-throughout-an-apis-lifecycle/\">ì¶œì²˜</a>ì— ìˆëŠ” ê¸€ì—ì„œëŠ” Breaking Changeë¥¼ ë‹¤ìŒê³¼\nê°™ì´ ì„¤ëª…í•©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>A<a href=\"https://nordicapis.com/what-are-breaking-changes-and-how-do-you-avoid-them/\">breaking change</a>is when one such change\ncauses a client application to break somehow. While some changes make a minimal impact, breaking changes are those\nfundamental changes that cause the system to cease functioning. This could be a change in a field name, the removal of\nan unused resource type, a new feature that deprecates older features, and so forth.</p>\n</blockquote>\n<p>ì´ ê¸€ì„ ìš”ì•½í•´ë³´ë©´,</p>\n<ol>\n<li><strong>í´ë¼ì´ì–¸íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¤‘ì§€ë˜ë„ë¡ í•˜ëŠ” ë³€ê²½</strong>ì„ Breaking Changeë¼ê³  í•œë‹¤.</li>\n<li>ë³€ê²½ ì‚¬í•­ì´ ìµœì†Œí•œì˜ ì˜í–¥ì„ ë¯¸ì¹ ìˆ˜ë„ ìˆì§€ë§Œ, ì‹œìŠ¤í…œ ì‘ë™ì„ ì¤‘ë‹¨ì‹œí‚¬ ìˆ˜ë„ ìˆë‹¤.</li>\n<li>í•„ë“œ ì´ë¦„ ë³€ê²½, ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤ ì œê±°, ê¸°ì¡´ì˜ ê¸°ëŠ¥ì„ deprecateí•˜ëŠ” ìƒˆë¡œìš´ ê¸°ëŠ¥ ë“±ì´ ìˆë‹¤.</li>\n</ol>\n<p>ê·¸ë ‡ë‹¤ë©´, <strong>í˜„ì¬ API ì½”ë“œì˜ ë³€í™”ê°€ ê¸°ì¡´ì˜ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šë„ë¡ ì„¤ê³„í•˜ëŠ”ê²ƒì´ ì¤‘ìš”</strong>í•˜ê² ë„¤ìš”! ë‹¤ìŒìœ¼ë¡œëŠ” ê¸°ì¡´ì— êµ¬í˜„í–ˆë˜ ë°©ë²•ì„\nì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<br/>\n<h2 id=\"ê¸°ì¡´-êµ¬í˜„\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%A1%B4-%EA%B5%AC%ED%98%84\" aria-label=\"ê¸°ì¡´ êµ¬í˜„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ì¡´ êµ¬í˜„</h2>\n<p>ì˜ˆì‹œë¥¼ ìœ„í•œ ì½”ë“œëŠ” ê¸°ì¡´ê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ, ë‚´ìš©ë§Œ ì¡°ê¸ˆ ê°„ë‹¨í•˜ê²Œ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\"><span class=\"token namespace\">lombok<span class=\"token punctuation\">.</span></span>AccessLevel</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PROTECTED</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">IDENTITY</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> age<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Builder</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì—”í‹°í‹°ëŠ” ìœ„ì™€ ê°™ì´ ì´ë¦„, ë‚˜ì´ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ì½”ë“œ ìì²´ê°€ ì¤‘ìš”í•œê²Œ ì•„ë‹ˆê³  ì´ë¦„(name), ë‚˜ì´(age) í•„ë“œê°€ ìˆë‹¤ëŠ” ê²ƒë§Œ ì•Œì•„ë„ ì¶©ë¶„í•©ë‹ˆë‹¤.</p>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MemberController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MemberRepository</span> memberRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/members\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getAllMembers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ê°„ë‹¨í•˜ê²Œ ì‘ì„±í•œ ì½”ë“œë¼, ë³„ë„ì˜ Layer êµ¬ë¶„ ì—†ì´ Repositroyë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•˜ë„ë¡ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤. ê¸°ì¡´ êµ¬í˜„ì€ ìœ„ì™€ ê°™ì´ <code class=\"language-text\">GET /members</code> ìš”ì²­ì„ ë³´ë‚´ë©´ ì „ì²´ íšŒì›ì„\në°˜í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sangdol\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sangdol1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>ì‘ë‹µì€ ìœ„ì™€ ê°™ì€ JSON ë°°ì—´ë¡œ ë‚˜ê°ˆ ê²ƒì´ê³ , <strong>ì´ JSONë§Œ ë³´ê³  ì–´ë–¤ ë°ì´í„°ì¸ì§€ ë°”ë¡œ íŒŒì•…í•˜ê¸° ì‰½ì§€ ì•Šë‹¤ëŠ” ë¬¸ì œ</strong>ê°€ ìˆê¸´ í•˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì—ì„œ ì´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒ ìì²´ëŠ” í¬ê²Œ ë¬¸ì œê°€ ì—†ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">function</span> <span class=\"token function\">fetchMembers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/members'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  data<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">member</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í´ë¼ì´ì–¸íŠ¸ ì½”ë“œëŠ” ëŒ€ëµ ì´ëŸ° í˜•íƒœë¡œ êµ¬ì„±ë  ê²ƒ ê°™ê³ , ì›¹ì„ ì²˜ìŒ êµ¬í˜„í•˜ëŠ” ì…ì¥ì—ì„  í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ì¡°ê¸ˆ ê³ ì¹˜ë©´ ë˜ë‹ˆê¹ í¬ê²Œ ë¬¸ì œê°€ ìˆë‹¤ëŠ” ìƒê°ì„ í•˜ì§„ ëª»í–ˆìŠµë‹ˆë‹¤.</p>\n<br/>\n<h2 id=\"ë¦¬ë·°ì–´-í”¼ë“œë°±\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EB%B7%B0%EC%96%B4-%ED%94%BC%EB%93%9C%EB%B0%B1\" aria-label=\"ë¦¬ë·°ì–´ í”¼ë“œë°± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¦¬ë·°ì–´ í”¼ë“œë°±</h2>\n<p>ë¦¬ë·°ì–´ê»˜ì„œ <a href=\"https://blog.stackademic.com/creating-a-high-quality-rest-api-201819325356\">ì•„í‹°í´</a>ì„ ë°”íƒ•ìœ¼ë¡œ í”¼ë“œë°±ì„ ì£¼ì…¨ëŠ”ë°, í•´ë‹¹ ë§í¬ì— ë“¤ì–´ê°€ë©´ ë‹¤ìŒê³¼\nê°™ì€ ë‚´ìš©ì´ ë‚˜ì˜µë‹ˆë‹¤.</p>\n<blockquote>\n<p>â€¢ Donâ€™t return arrays as top-level responses : The top-level response from an endpoint should be an Object and not\nan array. For instance GET /books returns: {â€œdataâ€:[{â€¦book1â€¦}], [{â€¦book2â€¦}]} is good and GET /books returns:[{â€¦book1â€¦}]\nGET is bad. Returning arrays is not recommendable as it makes it hard to make changes to the output that are backward\ncompatible. For example, adding a pagination field like totalCount. This will be a breaking change for the client.</p>\n</blockquote>\n<p>ê¸°ì¡´ì— êµ¬í˜„í•œ ë°©ë²•ê³¼ ê°™ì´ List í˜•íƒœì˜ ì‘ë‹µë³´ë‹¨, í™•ì¥ì„±ì„ ê³ ë ¤í•´ ì´ë¥¼ ê°ì‹¼ Object í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•˜ë¼ëŠ” ë‚´ìš©ì¸ë°ìš”, ì‚¬ì‹¤ ì´ ë¶€ë¶„ì´ í¬ê²Œ ì™€ë‹¿ì§„ ì•Šì•˜ì§€ë§Œ ë¦¬ë·°ì–´ê»˜ì„œ ë‚¨ê²¨ì£¼ì‹  ë‹¤ìŒ ì˜ê²¬ì„ ë³´ê³  ì–´ë– í•œ\nì˜ë„ì…¨ëŠ”ì§€ ë°”ë¡œ ì´í•´í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>ì„œë²„ ì½”ë“œ ë³€ê²½ì— ë§ì¶”ì–´ í”„ë¡ íŠ¸ ì½”ë“œë¥¼ í•­ìƒ ë°”ê¾¸ì–´ë‹¬ë¼ê³  ìš”êµ¬í•˜ëŠ” ê±´ í˜„ì—…ì—ì„œ ë§¤ìš° ì–´ë ¤ìš´ ì¼ì…ë‹ˆë‹¤ (ë‹¨ìˆœíˆ ê³µìˆ˜ë¥¼ ë„˜ì–´ ë°°í¬ ì¼ì •, ì •ì¹˜ì ì¸ ê´€ê³„ ë“± ë‹¤ì–‘í•œ ë³€ìˆ˜ê°€ ì¡´ì¬í•©ë‹ˆë‹¤ ã…‹ã…‹ ëˆ„ê°€ ìƒëŒ ë¯¸ì…˜ ì²˜ë¦¬í•  ê±°\n4ê°œ ìŒ“ì˜€ëŠ”ë° â€˜ì£„ì†¡í•œë° ì´ê±° ì¡°ê¸ˆë§Œ ìˆ˜ì •í•´ì„œ ë‚´ì¼ ìƒˆë²½ 6ì‹œì— ë°°í¬ì¢€ ê°™ì´ í•´ì£¼ì‹œë©´ ì•ˆ ë ê¹Œìš”? ã… ã… â€™ ë¼ê³  ë¶€íƒí–ˆë‹¤ê³  ìƒìƒí•´ë³´ì„¸ìš”)</p>\n</blockquote>\n<p>ì´ë²ˆ ë¯¸ì…˜ì—ì„œëŠ” ê°„ë‹¨í•œ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ìˆ˜ì •ì€ ì§ì ‘ í–ˆì§€ë§Œ, í”„ë¡œì íŠ¸ë¥¼ í•˜ê±°ë‚˜ íšŒì‚¬ì— ê°€ë©´ ì´ ë³€ê²½ì„ í”„ë¡ íŠ¸ìª½ì—ì„œë„ ë°˜ì˜ì„ í•´ì£¼ì–´ì•¼ í•˜ëŠ”ë°.. ë¦¬ë·°ì–´ê»˜ì„œ ë§ì”€í•˜ì‹  ëŒ€ë¡œ ì‰¬ìš´ ì‘ì—…ì€ ì•„ë‹ˆê² ë‹¤ëŠ” ìƒê°ì„ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤\nã…ã… ì´ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ìˆ˜ì •í•œ ë°©ë²•ì„ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<br/>\n<h2 id=\"êµ¬í˜„-ë°©ë²•-ìˆ˜ì •\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84-%EB%B0%A9%EB%B2%95-%EC%88%98%EC%A0%95\" aria-label=\"êµ¬í˜„ ë°©ë²• ìˆ˜ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>êµ¬í˜„ ë°©ë²• ìˆ˜ì •</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">record</span> <span class=\"token class-name\">MembersResponse</span><span class=\"token punctuation\">(</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> members\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MemberController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">MemberRepository</span> memberRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/members\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MembersResponse</span> <span class=\"token function\">getAllMembers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> members <span class=\"token operator\">=</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MembersResponse</span><span class=\"token punctuation\">(</span>members<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ì™€ ê°™ì´, <code class=\"language-text\">List&lt;Member></code> ë¥¼ ê°ì‹¸ëŠ” ë³„ë„ì˜ ì‘ë‹µ DTOë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•˜ë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"members\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sangdol\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token number\">10</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sangdol1\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"age\"</span><span class=\"token operator\">:</span> <span class=\"token number\">20</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê·¸ëŸ¬ë©´ ì‘ë‹µ JSON í˜•íƒœê°€ ìœ„ì™€ ê°™ì´ ë°”ë€Œê²Œ ë˜ë©°, ê¸°ì¡´ êµ¬í˜„ê³¼ ë‹¬ë¦¬ JSON ë§Œì„ ë³´ê³ ë„ íšŒì› ì •ë³´ ë°ì´í„°ë¼ëŠ” ê²ƒì„ ë°”ë¡œ íŒŒì•…í•  ìˆ˜ ìˆê³  íšŒì› ì •ë³´ í•„ë“œ ì´ì™¸ì˜ ë‹¤ë¥¸ ê°’(ì „ì²´ ë°ì´í„° ê°œìˆ˜)ì„\n<strong>ìƒˆë¡œìš´ í•„ë“œë¡œ ì¶”ê°€í•´ë„ ê¸°ì¡´ì˜ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œëŠ” ì •ìƒì ìœ¼ë¡œ ì‘ë™</strong>í•˜ê¸°ì— Breaking Changeì˜ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆê² ë„¤ìš”!</p>\n<br/>\n<h2 id=\"ê²°ë¡ \" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"ê²°ë¡  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²°ë¡ </h2>\n<ol>\n<li>ì‘ë‹µì„ JSON Arrray í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ê²ƒì€ í™•ì¥í•˜ê¸° í˜ë“  êµ¬ì¡°ì´ë©°, ë”°ë¼ì„œ API Breaking Changeì˜ ê°€ëŠ¥ì„±ì´ í¬ë‹¤.</li>\n<li>ë”°ë¼ì„œ ì²˜ìŒë¶€í„° Arrayê°€ ì•„ë‹Œ Object í˜•ì‹ìœ¼ë¡œ ì´ë¥¼ ê°ì‹¸ì„œ ì‘ë‹µí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ Breaking Changeì˜ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.</li>\n</ol>\n<p>ë¦¬ë·°ì–´ê»˜ì„œ ì¢‹ì€ ì˜ê²¬ì„ ì£¼ì‹  ë•ë¶„ì— ìƒê°í•˜ì§€ë„ ëª»í•œ ê²ƒë“¤ì— ëŒ€í•´ ìƒˆë¡œ ì•Œì•„ê°ˆ ìˆ˜ ìˆì–´ ìœ ìµí•œ ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤ ã…ã…</p>\n<p>ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ì¦ê±°ìš´ í•˜ë£¨ ë³´ë‚´ì„¸ìš”ğŸ™‡</p>","excerpt":"ë°°ê²½ ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì˜ ì„¸ ë²ˆì§¸ ë¯¸ì…˜ì„ ì§„í–‰í•˜ë©°, ë¦¬ë·°ì–´ê»˜ì„œ ì¢‹ì€ ì˜ê²¬ì„ ì£¼ì…¨ìŠµë‹ˆë‹¤. ì›¹ êµ¬í˜„ì„ ì²˜ìŒ\ní•´ë³´ëŠ” ì…ì¥ì—ì„œ ìƒê°ì§€ë„ ëª»í–ˆë˜  ì— ëŒ€í•œ ê²ƒì¸ë°ìš”, API JSON ì‘ë‹µì€ Listê°€ ì•„ë‹Œ Object í˜•ì‹ìœ¼ë¡œ í•˜ëŠ” ê²ƒì„ ê¶Œí•˜ì…¨ê³  ì´ë²ˆ ê¸€ì—ì„œëŠ” ì´ ë‚´ìš©ì— ëŒ€í•´ ê¸°ë¡í•´ë³´ê³ ì\ní•©ë‹ˆë‹¤. API Break Changeë€? ì¶œì²˜ì— ìˆëŠ” ê¸€ì—ì„œëŠ” Breaking Changeë¥¼ ë‹¤ìŒê³¼\nê°™ì´ ì„¤ëª…í•©ë‹ˆë‹¤. Abreaking changeis when one such change\ncauses a client application to break somehow. While some changes make a minimal impact, breaking changes are those\nfundamental changes that cause the system to cease functioning. This could be a change in a field name, the removal of\nan â€¦","frontmatter":{"date":"July 08, 2024","title":"API Break Change ë°©ì§€ë¥¼ ìœ„í•œ ë¦¬ìŠ¤íŠ¸ í˜•íƒœì˜ JSON ì‘ë‹µ ìˆ˜ì •","categories":"level2 Spring API","author":"ì´ìƒì§„","emoji":"ğŸŒ±"},"fields":{"slug":"/woowacourse/level2/API_BREAK_CHANGE/"}},"next":{"id":"f2cb5bb9-08a8-5a81-b45d-9b74674e5c7a","html":"<h2 id=\"ëª©í‘œ\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%ED%91%9C\" aria-label=\"ëª©í‘œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ëª©í‘œ</h2>\n<p>ì´ë²ˆ ê¸€ì—ì„œëŠ”, ì§€ë‚œ í¸ì—ì„œ ì•Œì•„ë³¸ Specificationì„ ì´ìš©í•´ <code class=\"language-text\">íŠ¹ì • íšŒì› / íŠ¹ì • í…Œë§ˆ / ì‹œì‘ ë‚ ì§œ / ì¢…ë£Œ ë‚ ì§œ</code> ë¡œ ì˜ˆì•½ì„ ì¡°íšŒí•˜ëŠ” ë™ì  ì¿¼ë¦¬ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.ğŸ˜„</p>\n<h2 id=\"ê¸°ë³¸-ì½”ë“œ\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%BD%94%EB%93%9C\" aria-label=\"ê¸°ë³¸ ì½”ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê¸°ë³¸ ì½”ë“œ</h2>\n<h3 id=\"entity\" style=\"position:relative;\"><a href=\"#entity\" aria-label=\"entity permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Entity</h3>\n<p>ì´ì „ 1í¸ì— ì‘ì„±ëœ ë‚´ìš©ì´ì§€ë§Œ, ë‹¤ì‹œ í•œë²ˆ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">AccessLevel</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PROTECTED</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Getter</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Reservation</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">IDENTITY</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">LocalDate</span> date<span class=\"token punctuation\">;</span>\n    <span class=\"token annotation punctuation\">@ManyToOne</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Member</span> member<span class=\"token punctuation\">;</span>\n    <span class=\"token annotation punctuation\">@ManyToOne</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Theme</span> theme<span class=\"token punctuation\">;</span>\n    <span class=\"token annotation punctuation\">@ManyToOne</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">ReservationTime</span> reservationTime<span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Member, Theme, ReservationTImeëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>Member: <code class=\"language-text\">ID</code> ë° <code class=\"language-text\">íšŒì› ì´ë¦„</code>ì— í•´ë‹¹ë˜ëŠ” <code class=\"language-text\">String name</code> ì„ í•„ë“œë¡œ ê°€ì§‘ë‹ˆë‹¤.</li>\n<li>Theme: ID ë° <code class=\"language-text\">í…Œë§ˆ ì´ë¦„</code>ì— í•´ë‹¹ë˜ëŠ” <code class=\"language-text\">String name</code> ì„ í•„ë“œë¡œ ê°€ì§‘ë‹ˆë‹¤.</li>\n<li>ReservationTime: ID ë° <code class=\"language-text\">ì‹œì‘ ì‹œê°„</code>ì— í•´ë‹¹ë˜ëŠ” <code class=\"language-text\">LocalTime startAt</code> ì„ í•„ë“œë¡œ ê°€ì§‘ë‹ˆë‹¤.</li>\n</ul>\n<h3 id=\"api\" style=\"position:relative;\"><a href=\"#api\" aria-label=\"api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API</h3>\n<p><code class=\"language-text\">GET /admin/reservations/filter</code> ë¥¼ í†µí•´ í˜¸ì¶œí•˜ë©°, ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. íŒŒë¼ë¯¸í„°ì˜ êµ¬ì„±ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ê°’ì„ ì„ íƒí•˜ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” ì „ì²´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.</p>\n<ul>\n<li>íšŒì›(memberId): ì„ íƒí•œ íšŒì›ì˜ ID(PK)ê°’.</li>\n<li>í…Œë§ˆ(themeId): íšŒì›ê³¼ ë™ì¼í•©ë‹ˆë‹¤.</li>\n<li>ì‹œì‘ ë‚ ì§œ(startDate):  ì„ íƒí•œ ë‚ ì§œë„ ë²”ìœ„ì— í¬í•¨í•˜ë©°, <code class=\"language-text\">yyyy-MM-dd</code> í˜•ì‹ì…ë‹ˆë‹¤.</li>\n<li>ì¢…ë£Œ ë‚ ì§œ(endDate): ì‹œì‘ ë‚ ì§œì™€ ë™ì¼í•©ë‹ˆë‹¤.</li>\n</ul>\n<p>Endpoint ì„¤ì •ì€ JavaScriptë¥¼ í†µí•´ í•˜ê³  ìˆê³ , í¬ê²Œ ì˜ë¯¸ê°€ ì—†ì§€ë§Œ ë³€í™˜ ì½”ë“œë¥¼ ëŒ€ëµì ìœ¼ë¡œ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<p>(ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì œê°€ ì „í˜€ ëª°ë¼.. êµ¬ê¸€ë§ê³¼ ì¸í…”ë¦¬ì œì´ ìë™ì™„ì„±ìœ¼ë¡œ ì´ë¦¬ì €ë¦¬ ì°ì–´ì„œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤)</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>themeId <span class=\"token operator\">!==</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> queryParams<span class=\"token punctuation\">.</span>themeId <span class=\"token operator\">=</span> themeId<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>memberId <span class=\"token operator\">!==</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> queryParams<span class=\"token punctuation\">.</span>memberId <span class=\"token operator\">=</span> memberId<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>startDate <span class=\"token operator\">!==</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> queryParams<span class=\"token punctuation\">.</span>startDate <span class=\"token operator\">=</span> startDate<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>endDate <span class=\"token operator\">!==</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> queryParams<span class=\"token punctuation\">.</span>endDate <span class=\"token operator\">=</span> endDate<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> searchParams <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">URLSearchParams</span><span class=\"token punctuation\">(</span>queryParams<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> endpoint <span class=\"token operator\">=</span> <span class=\"token string\">'/admin/reservations'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> url <span class=\"token operator\">=</span> searchParams<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>endpoint<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/filter?</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>searchParams<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> endpoint<span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë”°ë¼ì„œ, ì•„ë¬´ ê°’ë„ ì„ íƒí•˜ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ì— ìˆëŠ” ëª¨ë“  ì˜ˆì•½ì„ ì¡°íšŒí•˜ëŠ” <code class=\"language-text\">GET /admin/reservations</code> ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token comment\">// ì•„ë¬´ ê²ƒë„ ì„ íƒí•˜ì§€ ì•Šì€ ê²½ìš°</span>\n<span class=\"token operator\">/</span>admin<span class=\"token operator\">/</span>reservations\n\n<span class=\"token comment\">// IDê°€ 1ì¸ í…Œë§ˆë§Œ ì„ íƒí•œ ê²½ìš°</span>\n<span class=\"token operator\">/</span>admin<span class=\"token operator\">/</span>reservations<span class=\"token operator\">/</span>filter<span class=\"token operator\">?</span>themeId<span class=\"token operator\">=</span><span class=\"token number\">1</span>\n\n<span class=\"token comment\">// IDê°€ 1ì¸ í…Œë§ˆì™€, ì‹œì‘ ë‚ ì§œë¥¼ 2024ë…„ 6ì›” 27ì¼ë¡œ ì§€ì •í•˜ëŠ” ê²½ìš°</span>\n<span class=\"token operator\">/</span>admin<span class=\"token operator\">/</span>reservations<span class=\"token operator\">/</span>filter<span class=\"token operator\">?</span>themeId<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token operator\">&amp;</span>startDate<span class=\"token operator\">=</span><span class=\"token number\">2024</span><span class=\"token operator\">-</span><span class=\"token number\">06</span><span class=\"token operator\">-</span><span class=\"token number\">27</span></code></pre></div>\n<h3 id=\"ì‘ë‹µ-dto\" style=\"position:relative;\"><a href=\"#%EC%9D%91%EB%8B%B5-dto\" aria-label=\"ì‘ë‹µ dto permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‘ë‹µ DTO</h3>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">public</span> record <span class=\"token function\">ReservationResponse</span><span class=\"token punctuation\">(</span>\n        <span class=\"token parameter\">Long id<span class=\"token punctuation\">,</span>\n        LocalDate date<span class=\"token punctuation\">,</span>\n        LocalTime startAt<span class=\"token punctuation\">,</span>\n        String memberName<span class=\"token punctuation\">,</span>\n        String themeName</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> ReservationResponse <span class=\"token function\">from</span><span class=\"token punctuation\">(</span>Reservation reservation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">(</span>\n                reservation<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                reservation<span class=\"token punctuation\">.</span><span class=\"token function\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                reservation<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getStartAt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                reservation<span class=\"token punctuation\">.</span><span class=\"token function\">getMember</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                reservation<span class=\"token punctuation\">.</span><span class=\"token function\">getTheme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì˜ˆì•½ì„ ì¡°íšŒí•  ë• <code class=\"language-text\">ì˜ˆì•½ ID(PK) /  ë‚ ì§œ / ì‹œì‘ ì‹œê°„ / íšŒì› ì´ë¦„ / í…Œë§ˆ ì´ë¦„</code> ì„ ê°€ì§„ DTOë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<h3 id=\"ì»¨íŠ¸ë¡¤ëŸ¬\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\" aria-label=\"ì»¨íŠ¸ë¡¤ëŸ¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì»¨íŠ¸ë¡¤ëŸ¬</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token annotation punctuation\">@RequiredArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReservationController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ReservationRepository</span> reservationRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/reservations\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findAllReservations</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> reservationRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationResponse</span><span class=\"token operator\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/reservations/filter\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findAllReservationsBy</span><span class=\"token punctuation\">(</span>\n            <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>required <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span>\n            <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>required <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> themeId<span class=\"token punctuation\">,</span>\n            <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>required <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LocalDate</span> startDate<span class=\"token punctuation\">,</span>\n            <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>required <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LocalDate</span> endDate\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì¡°íšŒë¥¼ í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë¯€ë¡œ, ServiceëŠ” ìƒëµí•˜ê³  ë°”ë¡œ Repositoryë¥¼ ì´ìš©í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë²ˆ ëª©í‘œëŠ” <code class=\"language-text\">findAllReservationBy()</code> ë¥¼ ì™„ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤ğŸ˜„</p>\n<h3 id=\"í…ŒìŠ¤íŠ¸ìš©-ë°ì´í„°\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%9A%A9-%EB%8D%B0%EC%9D%B4%ED%84%B0\" aria-label=\"í…ŒìŠ¤íŠ¸ìš© ë°ì´í„° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í…ŒìŠ¤íŠ¸ìš© ë°ì´í„°</h3>\n<p>í…ŒìŠ¤íŠ¸ìš© ë°ì´í„°ëŠ” ì´ì „ 1í¸ì—ì„œì™€ ë™ì¼í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤. ì „ì²´ ì½”ë“œë¥¼ ë³µë¶™í•˜ê¸´ ì¢€ ê¸¸ì–´ì„œ, ë‹¤ìŒê³¼ ê°™ì´ ìš”ì•½í•˜ê² ìŠµë‹ˆë‹¤. íŒŒì¼ëª…ì€ <code class=\"language-text\">spec_test_data.sql</code> ì…ë‹ˆë‹¤.</p>\n<ol>\n<li>íšŒì›ì€ IDê°€ 1ì´ê³  ì´ë¦„ì´ â€˜1ë²ˆ íšŒì›â€™ì¸ íšŒì›ê³¼ IDê°€ 2ì´ê³  ì´ë¦„ì´ â€˜2ë²ˆ íšŒì›â€™ ë‘ ëª…ìœ¼ë¡œ êµ¬ì„±</li>\n<li>í…Œë§ˆ ì—­ì‹œ ì´ë¦„ì´ â€˜1ë²ˆ í…Œë§ˆâ€™, â€˜2ë²ˆ í…Œë§ˆâ€™ì¸ ë‘ ê°œë¡œ êµ¬ì„±.</li>\n<li>ì˜ˆì•½ì€ ì´ 8ê°œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.\n<ul>\n<li>ë‚ ì§œëŠ” ëª¨ë‘ ì˜¤ëŠ˜ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ë©°, ì‹œê°„ì€ 15ì‹œë¡œ í†µì¼</li>\n<li>1ë²ˆ íšŒì›ì˜ ì˜ˆì•½:  <code class=\"language-text\">ì˜¤ëŠ˜(1ë²ˆ í…Œë§ˆ) / 1ì¼ ì „(2ë²ˆ í…Œë§ˆ) / 2ì¼ ì „(1ë²ˆ í…Œë§ˆ) / 3ì¼ ì „(2ë²ˆ í…Œë§ˆ)</code></li>\n<li>2ë²ˆ íšŒì›ì˜ ì˜ˆì•½: <code class=\"language-text\">4ì¼ ì „(1ë²ˆ í…Œë§ˆ) / 5ì¼ ì „(2ë²ˆ í…Œë§ˆ) / 6ì¼ ì „(1ë²ˆ í…Œë§ˆ) / 7ì¼ ì „(1ë²ˆ í…Œë§ˆ)</code></li>\n<li>1ë²ˆ íšŒì›ì˜ ì˜ˆì•½ì€ 4ê°œ, 2ë²ˆ íšŒì›ì˜ ì˜ˆì•½ë„ 4ê°œ</li>\n<li>1ë²ˆ í…Œë§ˆì˜ ì˜ˆì•½ì€ 5ê°œ, 2ë²ˆ í…Œë§ˆì˜ ì˜ˆì•½ì€ 3ê°œ ì…ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"ë“¤ì–´ê°€ê¸°-ì „ì—\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0-%EC%A0%84%EC%97%90\" aria-label=\"ë“¤ì–´ê°€ê¸° ì „ì— permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë“¤ì–´ê°€ê¸° ì „ì—..</h2>\n<p>ë³¸ê²©ì ì¸ êµ¬í˜„ì„ í•˜ê¸° ì „ì—, ì§€ë‚œ í¸ì—ì„œ <strong>Specificationì´ nullì¸ ê²½ìš° ëª¨ë“  ë°ì´í„°ë¥¼ ì¡°íšŒ</strong>í•œë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆê³ ,ì•„ë˜ì˜ Specification ì†ŒìŠ¤ì½”ë“œë¥¼ ë³´ë©´ ì…ë ¥ëœ Specificationì´ nullì¸ ê²½ìš° nullì„ ë°˜í™˜í•˜ê³  ìˆë„¤ìš”.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Serializable</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">not</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> spec<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> spec <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> builder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> builder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">not</span><span class=\"token punctuation\">(</span>spec<span class=\"token punctuation\">.</span><span class=\"token function\">toPredicate</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> builder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì˜ˆë¥¼ ë“¤ì–´ <strong>í…Œë§ˆê°€ ì…ë ¥ë˜ì§€ ì•Šìœ¼ë©´ ëª¨ë“  í…Œë§ˆë¥¼ ì¡°íšŒ</strong>í•´ì•¼ í•˜ë¯€ë¡œ, ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œë¥¼ ë³´ë©´ <code class=\"language-text\">@RequestParam(required = false)</code> ë¡œ ì§€ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. <code class=\"language-text\">required = false</code> ëŠ” í•´ë‹¹ <strong>íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” ê²½ìš° nullë¡œ ëŒ€ì²´</strong>í•˜ë¯€ë¡œ, ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥ëœ ê°’ì´ nullì¸ ê²½ìš° nullì„ ë°˜í™˜í•˜ëŠ” ì¡°ê±´ì‹ì„ ì¶”ê°€í•˜ì—¬ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">method</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span> param<span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>param <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ì²«-ë²ˆì§¸-ë°©ë²•\" style=\"position:relative;\"><a href=\"#%EC%B2%AB-%EB%B2%88%EC%A7%B8-%EB%B0%A9%EB%B2%95\" aria-label=\"ì²« ë²ˆì§¸ ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì²« ë²ˆì§¸ ë°©ë²•</h2>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html\">ê³µì‹ ë¬¸ì„œ</a>ì— ìˆëŠ” ë°©ë²•ê³¼ ë™ì¼í•˜ê²Œ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReservationFilterSpecs</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">hasMemberId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>memberId <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> criteriaBuilder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> criteriaBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">hasThemeId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> themeId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>themeId <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> criteriaBuilder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> criteriaBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"theme\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> themeId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">dateStartFrom</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDate</span> date<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>date <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> criteriaBuilder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> criteriaBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">greaterThanOrEqualTo</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"date\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">dateEndAt</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDate</span> date<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>date <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> criteriaBuilder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> criteriaBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">lessThanOrEqualTo</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"date\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í…Œë§ˆì™€ íšŒì›ì„ ì´ìš©í•œ ì¡°íšŒëŠ” ì´ì „ í¸ì—ì„œ ì‚¬ìš©í–ˆë˜ <code class=\"language-text\">equal()</code> ì„ ì´ìš©í–ˆê³ , ì‹œì‘ ë‚ ì§œì™€ ì¢…ë£Œ ë‚ ì§œëŠ” ì…ë ¥ëœ ë‚ ì§œë„ í¬í•¨í•˜ë„ë¡ <code class=\"language-text\">greaterThanOrEqualTo</code> ë“±ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ë§Œì•½ í¬í•¨í•˜ì§€ ì•Šìœ¼ë ¤ë©´ <code class=\"language-text\">greaterThan(lessThan)</code> ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤!</p>\n<p>ì´ì œ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/reservations/filter\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findAllReservationsBy</span><span class=\"token punctuation\">(</span>\n        <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>required <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span>\n        <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>required <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Long</span> themeId<span class=\"token punctuation\">,</span>\n        <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>required <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LocalDate</span> startDate<span class=\"token punctuation\">,</span>\n        <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span>required <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LocalDate</span> endDate\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t  <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> specs <span class=\"token operator\">=</span> <span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span>\n\t      <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasThemeId</span><span class=\"token punctuation\">(</span>themeId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t      <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">dateStartFrom</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t      <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">dateEndAt</span><span class=\"token punctuation\">(</span>endDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t\t<span class=\"token keyword\">return</span> reservationRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span>specs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t\t        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationResponse</span><span class=\"token operator\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">)</span>\n\t\t        <span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">~</span><span class=\"token operator\">~</span><span class=\"token punctuation\">}</span><span class=\"token operator\">~</span><span class=\"token operator\">~</span></code></pre></div>\n<h3 id=\"ì°¸ê³ -ì¡°ê¸ˆ-ë‹¤ë¥¸-ë°©ë²•\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%A1%B0%EA%B8%88-%EB%8B%A4%EB%A5%B8-%EB%B0%A9%EB%B2%95\" aria-label=\"ì°¸ê³  ì¡°ê¸ˆ ë‹¤ë¥¸ ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(ì°¸ê³ ) ì¡°ê¸ˆ ë‹¤ë¥¸ ë°©ë²•</h3>\n<p>ì§€ê¸ˆ ë³´ë©´ ëª¨ë“  Specificationì´ <code class=\"language-text\">and</code> ì—°ì‚°ìœ¼ë¡œ ì—°ê²°ë˜ê³  ìˆëŠ”ë°ìš”, Specificationì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ <strong>ëª¨ë“  ì—°ì‚°ì„ andë¡œ ì—°ê²°</strong>í•˜ëŠ” <code class=\"language-text\">allOf()</code> ë©”ì„œë“œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">allOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Iterable</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Specification</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> specifications<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Specification</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">StreamSupport</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span>specifications<span class=\"token punctuation\">.</span><span class=\"token function\">spliterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Specification</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Specification</span><span class=\"token operator\">::</span><span class=\"token function\">and</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@SafeVarargs</span>\n<span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">allOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> specifications<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">allOf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Iterable</span><span class=\"token punctuation\">)</span><span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">asList</span><span class=\"token punctuation\">(</span>specifications<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ ë°©ë²•ìœ¼ë¡œ ì´ì „ê³¼ ë™ì¼í•œ Specification ê°ì²´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <code class=\"language-text\">ëª¨ë“  ì¡°ê±´ì„ orë¡œ ë¬¶ê³  ì‹¶ì„ë•ŒëŠ” anyOf()</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> specs <span class=\"token operator\">=</span> <span class=\"token class-name\">Specification</span><span class=\"token punctuation\">.</span><span class=\"token function\">allOf</span><span class=\"token punctuation\">(</span>\n\t\t<span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasThemeId</span><span class=\"token punctuation\">(</span>themeId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">dateStartFrom</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">dateEndAt</span><span class=\"token punctuation\">(</span>endDate<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t</code></pre></div>\n<h3 id=\"í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í…ŒìŠ¤íŠ¸</h3>\n<p>ê·¸ëŸ¬ë©´, í…ŒìŠ¤íŠ¸ìš© ë°ì´í„°ë¥¼ ì´ìš©í•´ ì§ì ‘ í…ŒìŠ¤íŠ¸ í•´ë³´ê² ìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ì§€ë‚œ í¸ì—ì„œ í•œ ê²ƒì²˜ëŸ¼ repositoryë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, RestAssuredë¥¼ ì´ìš©í•´ APIë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤ğŸ˜„Â </p>\n<p><strong>í…Œë§ˆ IDë§Œì„ ì´ìš©í•˜ì—¬ ì¡°íšŒ</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ParameterizedTest</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"í…Œë§ˆ IDê°€ {0}ì¸ ì˜ˆì•½ì€ {1}ê°œê°€ ì¡°íšŒëœë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@CsvSource</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"1/5\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2/3\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> delimiter <span class=\"token operator\">=</span> <span class=\"token char\">'/'</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Sql</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"/truncate.sql\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/spec_test_data.sql\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> í…Œë§ˆ_IDë¡œë§Œ_ì¡°íšŒ<span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> themeId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> expectedCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">RestAssured</span><span class=\"token punctuation\">.</span><span class=\"token function\">given</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">queryParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"themeId\"</span><span class=\"token punctuation\">,</span> themeId<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/reservations/filter\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">statusCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"size()\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">is</span><span class=\"token punctuation\">(</span>expectedCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">response</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">jsonPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getList</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extracting</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"themeName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">containsOnly</span><span class=\"token punctuation\">(</span>themeId <span class=\"token operator\">+</span> <span class=\"token string\">\"ë²ˆ í…Œë§ˆ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìš°ì„  RestAssuredë¥¼ ì´ìš©í•´ ì¡°íšŒëœ ì˜ˆì•½ì˜ ê°œìˆ˜ë¥¼ ê²€ì¦í•˜ê³ , ì¡°íšŒëœ ì˜ˆì•½ì´ ëª¨ë‘ í•´ë‹¹ í…Œë§ˆì— ëŒ€í•œ ì˜ˆì•½ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤. íšŒì› IDë¡œ ì¡°íšŒí•˜ëŠ” í…ŒìŠ¤íŠ¸ëŠ” ìœ„ í…ŒìŠ¤íŠ¸ì™€ ê±°ì˜ ê°™ì•„ì„œ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p><strong>ì‹œì‘ ë‚ ì§œë§Œì„ ì´ìš©í•˜ì—¬ ì¡°íšŒ</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ParameterizedTest</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"ì˜¤ëŠ˜ ë‚ ì§œë³´ë‹¤ {0}ì¼ ì „ì¸ ë‚ ì§œë¥¼ ì‹œì‘ ë‚ ì§œë¡œ ì¡°íšŒì‹œ {1}ê°œì˜ ì˜ˆì•½ì´ ì¡°íšŒëœë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@CsvSource</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"0/1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"7/8\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> delimiter <span class=\"token operator\">=</span> <span class=\"token char\">'/'</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Sql</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"/truncate.sql\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/spec_test_data.sql\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> ì‹œì‘_ë‚ ì§œë¡œë§Œ_ì¡°íšŒ<span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> days<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> expectedCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">LocalDate</span> startDate <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">minusDays</span><span class=\"token punctuation\">(</span>days<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">RestAssured</span><span class=\"token punctuation\">.</span><span class=\"token function\">given</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">queryParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"startDate\"</span><span class=\"token punctuation\">,</span> startDate<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/reservations/filter\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">statusCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"size()\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">is</span><span class=\"token punctuation\">(</span>expectedCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">response</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">jsonPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getList</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extracting</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"date\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">allMatch</span><span class=\"token punctuation\">(</span>date <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">LocalDate</span> value <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">)</span> date<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">isEqual</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">isAfter</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì‹œì‘ ë‚ ì§œê°€ ì˜¤ëŠ˜ì¸ ì˜ˆì•½ê³¼ 7ì¼ ì „ì¸ ì˜ˆì•½ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤. ì´ì „ê³¼ ê°™ì´ ì¡°íšŒëœ ì˜ˆì•½ì˜ ê°œìˆ˜ë¥¼ í™•ì¸í•˜ê³ , ì¡°íšŒëœ ì˜ˆì•½ì´ ëª¨ë‘ ì…ë ¥ëœ ì‹œì‘ ë‚ ì§œì™€ ê°™ê±°ë‚˜ ê·¸ ì´í›„ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì¢…ë£Œ ë‚ ì§œë¡œ ì¡°íšŒí•˜ëŠ” í…ŒìŠ¤íŠ¸ëŠ” ìœ„ í…ŒìŠ¤íŠ¸ì™€ ê±°ì˜ ê°™ì•„ì„œ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.</p>\n<p><strong>ëª¨ë“  ê°’ì„ ë‹¤ ë„£ê³  ì¡°íšŒ</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token annotation punctuation\">@DisplayName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1ë²ˆ íšŒì›, 1ë²ˆ í…Œë§ˆ, ì‹œì‘ ë‚ ì§œëŠ” 7ì¼ ì „, ì¢…ë£Œ ë‚ ì§œëŠ” ì˜¤ëŠ˜ì¸ ì¡°ê±´ì— í•´ë‹¹ë˜ëŠ” ì˜ˆì•½ì€ 2ê°œì´ë‹¤.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Sql</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"/truncate.sql\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/spec_test_data.sql\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">void</span> ëª¨ë“ _ì¡°ê±´ìœ¼ë¡œ_ì¡°íšŒ<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Long</span> memberId <span class=\"token operator\">=</span> <span class=\"token number\">1L</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Long</span> themeId <span class=\"token operator\">=</span> <span class=\"token number\">1L</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LocalDate</span> startDate <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">minusDays</span><span class=\"token punctuation\">(</span><span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LocalDate</span> endDate <span class=\"token operator\">=</span> <span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> <span class=\"token class-name\">RestAssured</span><span class=\"token punctuation\">.</span><span class=\"token function\">given</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">queryParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberId\"</span><span class=\"token punctuation\">,</span> memberId<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">queryParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"themeId\"</span><span class=\"token punctuation\">,</span> themeId<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">queryParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"startDate\"</span><span class=\"token punctuation\">,</span> startDate<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">queryParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"endDate\"</span><span class=\"token punctuation\">,</span> endDate<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/reservations/filter\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">statusCode</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"size()\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">is</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">response</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">jsonPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getList</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ReservationResponse</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extracting</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">containsOnly</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1ë²ˆ íšŒì›\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extracting</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"themeName\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">containsOnly</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"1ë²ˆ í…Œë§ˆ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extracting</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"date\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">allMatch</span><span class=\"token punctuation\">(</span>date <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">LocalDate</span> value <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDate</span><span class=\"token punctuation\">)</span> date<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">isEqual</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">isEqual</span><span class=\"token punctuation\">(</span>endDate<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">.</span><span class=\"token function\">isAfter</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">isBefore</span><span class=\"token punctuation\">(</span>endDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>íšŒì›, í…Œë§ˆ, ì‹œì‘ì¼, ì¢…ë£Œì¼ì„ ëª¨ë‘ ë„£ê³  í™•ì¸í•©ë‹ˆë‹¤. ë°©ì‹ì€ ì´ì „ê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/0lEQVQY031RW26DMBDkGk0CxpgQIC0Rb2OMIYFK7f0PNNVumrQ/7cfIO6v17IzthSrG66XE5G5w7obBOBjjoIcJZdVBRkdEKoGMEq5/+P0UoUIgoic835cQkUKnR7h5ZTEStXbBun0wn5eN+WMZ8V5bbO+fOKVnvOx87A8CfiDh+UIiLwqMdmHowaJpNOx0Zdck8nBvxvk5R8upr7VFcalQVi279YRSqNse1l75Mg10/ciRs7yAilMkp/wbZ8YxydhZfMy4TzX1WZByx2kKY2eOQULOrSzedoajksBuH+Dgh//iHjmQoI9pWs2fUNU9O6wbzTVFz/I3Hv79+H/hCyrNuEjF/Hm6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test_result_way1\"\n        title=\"test_result_way1\"\n        src=\"/static/74452c33162aea5a8ab15207fcf6c25d/37523/test_result_way1.png\"\n        srcset=\"/static/74452c33162aea5a8ab15207fcf6c25d/e9ff0/test_result_way1.png 180w,\n/static/74452c33162aea5a8ab15207fcf6c25d/f21e7/test_result_way1.png 360w,\n/static/74452c33162aea5a8ab15207fcf6c25d/37523/test_result_way1.png 720w,\n/static/74452c33162aea5a8ab15207fcf6c25d/f53a0/test_result_way1.png 1062w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>í…ŒìŠ¤íŠ¸ëŠ” ëª¨ë‘ ì •ìƒì ìœ¼ë¡œ í†µê³¼í•©ë‹ˆë‹¤.</p>\n<h2 id=\"ë‘-ë²ˆì§¸-ë°©ë²•\" style=\"position:relative;\"><a href=\"#%EB%91%90-%EB%B2%88%EC%A7%B8-%EB%B0%A9%EB%B2%95\" aria-label=\"ë‘ ë²ˆì§¸ ë°©ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‘ ë²ˆì§¸ ë°©ë²•</h2>\n<blockquote>\n<p>Specification êµ¬í˜„ê³¼ í™œìš©ì€ ì¢‹ìŠµë‹ˆë‹¤ ğŸ‘</p>\n<p>ë‹¤ë§Œ ReservationSpecificationì˜ ì—­í• ì´ ìœ í‹¸ê°ì²´ì¸ ê²ƒì´ ì–´ìƒ‰í•˜ê²Œ ëŠê»´ì§‘ë‹ˆë‹¤. ReservationSpecificationHelper ì •ë„ë¡œ ê°ì²´ëª…ì„ ê°ˆìŒí•˜ê±°ë‚˜, ì•„ë‹ˆë©´ ë‚´ë¶€ì—ì„œ ì¡°í•©í•˜ì—¬ ReservationSpecification ìì²´ë¥¼ í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê²ƒë„ ì¢‹ê² ìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<p>ì²« ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œë„ ê¸°ëŠ¥ êµ¬í˜„ ìì²´ëŠ” ì™„ë£Œë˜ì—ˆì§€ë§Œ, ì½”ë“œ ë¦¬ë·°ë¥¼ ë°›ëŠ” ë„ì¤‘ ë¦¬ë·°ì–´ê»˜ì„œ ìœ„ì™€ ê°™ì€ ì˜ê²¬ì„ ì£¼ì…¨ìŠµë‹ˆë‹¤.</p>\n<p>(ë³¸ë¬¸ì— ì‚¬ìš©í•˜ëŠ” ì½”ë“œëŠ” ì²˜ìŒë¶€í„° ìƒˆë¡œ ì‘ì„±í•˜ì˜€ê¸°ì— ReservationFilterSpecsì´ê³ , ì´ì „ì— ì œì¶œì€ ReservationSpecificationìœ¼ë¡œ í–ˆì—ˆìŠµë‹ˆë‹¤ ğŸ˜…)</p>\n<p>ë¦¬ë·°ì–´ê»˜ì„œ ì£¼ì‹  ì˜ê²¬ë„ ê·¸ë ‡ê³ , ì œê°€ êµ¬í˜„í•˜ë©´ì„œ ì°ì°í–ˆë˜ ë¶€ë¶„ë„ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ì „ ì½”ë“œë¥¼ ì¼ë¶€ ë¶ˆëŸ¬ì˜¤ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> specs <span class=\"token operator\">=</span> <span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span>\n\t      <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasThemeId</span><span class=\"token punctuation\">(</span>themeId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t      <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">dateStartFrom</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t      <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">dateEndAt</span><span class=\"token punctuation\">(</span>endDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ë„ í¬ê²Œ ë¬¸ì œëŠ” ì—†ì§€ë§Œ.. ReservationFilterSpecsê°€ ë°˜ë³µë˜ëŠ” ê²ƒì´ ê·¸ë‚˜ë§ˆ ì•„ì‰¬ì› ê³ , ë¦¬ë·°ì–´ê»˜ì„œ ì£¼ì‹  ì˜ê²¬ ì¤‘ í´ë˜ìŠ¤ëª… ìˆ˜ì •ì€ ë„ˆë¬´ ê°„ë‹¨í•˜ê¸°ì—, ê°ì²´ ë‚´ë¶€ì—ì„œ ì¡°í•©í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤. êµ¬í˜„ì€ Builderë¥¼ ì´ìš©í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReservationFilterSpecs</span> <span class=\"token punctuation\">{</span>\n\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Builder</span> <span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Builder</span> <span class=\"token punctuation\">{</span>\n\t\t\n\t\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> spec<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìš°ì„ , ë‚´ë¶€ì—ì„œ ì¡°ë¦½í•˜ë ¤ë©´ Specification í•„ë“œê°€ í•˜ë‚˜ ìˆì–´ì•¼ê² ë„¤ìš”. ì´ í•„ë“œëŠ” ìƒˆë¡œìš´ ì¡°ê±´ì´ ì¶”ê°€ë  ë•Œ ë§ˆë‹¤ ìˆ˜ì •ë˜ì–´ì•¼ í•˜ë¯€ë¡œ finalì´ ì•„ë‹Œ ë³€ìˆ˜ë¡œ ì§€ì •í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ë‹¤ìŒì˜ ë¬¸ì œëŠ” ì´ spec ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê²ƒì´ë„¤ìš”.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">static</span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Nullable</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">></span></span> spec<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> spec <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> builder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token operator\">:</span> spec<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ ì½”ë“œëŠ” Specification ì†ŒìŠ¤ ì½”ë“œì— ìˆëŠ” <code class=\"language-text\">where()</code> ë©”ì„œë“œì¸ë°, <code class=\"language-text\">ì…ë ¥ëœ specì´ nullì´ë©´ null</code>ì„ , <code class=\"language-text\">nullì´ ì•„ë‹ˆë©´ ê·¸ëŒ€ë¡œ ë°˜í™˜</code>í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ë©”ì„œë“œì— nullì„ ë„£ìœ¼ë©´ nullì¸ Specificationì´ ë°˜í™˜ë  ê²ƒì´ë¼ ê¸°ëŒ€í•  ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReservationFilterSpecs</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Builder</span> <span class=\"token punctuation\">{</span>\n\t\t\n\t\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> spec<span class=\"token punctuation\">;</span>\n\t\t\n\t\t<span class=\"token keyword\">public</span> <span class=\"token class-name\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec <span class=\"token operator\">=</span> <span class=\"token class-name\">Specification</span><span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\t\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ í•„ë“œì˜ ì´ˆê¸°í™”ë¥¼ í•  ìˆ˜ ìˆê² ë„¤ìš”! ë‹¤ìŒìœ¼ë¡œëŠ” ì¡°ê±´ì‹ì„ í•˜ë‚˜ì”© ì¶”ê°€í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p>ì§€ê¸ˆì˜ ìš”êµ¬ì‚¬í•­ì—ì„œëŠ” and ì¡°ê±´ë§Œ ì‚¬ìš©í•˜ê¸°ì—, ì…ë ¥ëœ ê°’ì´ nullì´ ì•„ë‹ˆë©´ and ì¡°ê±´ì„ ë”í•œ Specificationìœ¼ë¡œ í•„ë“œë¥¼ ì—…ë°ì´íŠ¸ í•˜ë©´ ë˜ê² ë„¤ìš”.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Builder</span> <span class=\"token function\">hasMemberId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>memberId <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec<span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> criteriaBuilder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> criteriaBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> memberId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì…ë ¥ëœ ê°’ì´ nullì´ ì•„ë‹ˆë©´ í•„ë“œë¥¼ ì—…ë°ì´íŠ¸ í•˜ê³ , nullì´ë©´ í•„ë“œë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•œ ì±„ ìê¸° ìì‹ ì„ ë°˜í™˜í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. ë‚˜ë¨¸ì§€ ì¡°ê±´ì‹ë„ ë§ˆì € ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Builder</span> <span class=\"token function\">hasThemeId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> themeId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>themeId <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec<span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> criteriaBuilder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> criteriaBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">equal</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"theme\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> themeId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">Builder</span> <span class=\"token function\">dateStartFrom</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDate</span> dateFrom<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dateFrom <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec<span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> criteriaBuilder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> criteriaBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">greaterThanOrEqualTo</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"date\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dateFrom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">Builder</span> <span class=\"token function\">dateEndAt</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LocalDate</span> dateTo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dateTo <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec<span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">,</span> query<span class=\"token punctuation\">,</span> criteriaBuilder<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> criteriaBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">lessThanOrEqualTo</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"date\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dateTo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ í•˜ë©´, ë§ˆì§€ë§‰ìœ¼ë¡œ í•„ë“œì¸ Specification ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë§Œ ë§Œë“œë©´ ë˜ê² ë„¤ìš”!</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>spec<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìƒˆë¡­ê²Œ ì •ì˜í•œ ë°©ë²•ìœ¼ë¡œ, ë‹¤ì‹œ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œë¥¼ ìˆ˜ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤. ë‚˜ë¨¸ì§€ ë¶€ë¶„ì€ ë™ì¼í•˜ë¯€ë¡œ Specification ê°ì²´ ì„ ì–¸ ë¶€ë¶„ë§Œ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// ìˆ˜ì • ì „</span>\n<span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> specs <span class=\"token operator\">=</span> <span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span>\n\t\t\t  <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasThemeId</span><span class=\"token punctuation\">(</span>themeId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t\t  <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">dateStartFrom</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t\t  <span class=\"token punctuation\">.</span><span class=\"token function\">and</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">dateEndAt</span><span class=\"token punctuation\">(</span>endDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n<span class=\"token comment\">// ìˆ˜ì • í›„</span>\n<span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> specs <span class=\"token operator\">=</span> <span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">hasMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">hasThemeId</span><span class=\"token punctuation\">(</span>themeId<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">dateStartFrom</span><span class=\"token punctuation\">(</span>startDate<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">dateEndAt</span><span class=\"token punctuation\">(</span>endDate<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë‹¤ë¥¸ ë¶€ë¶„ì€ í¬ê²Œ ì²´ê°í•˜ê¸° í˜ë“¤ì§€ë§Œ, ì¤‘ë³µì´ ì œê±°ë˜ë‹ˆ í›¨ì”¬ ë” ì§ê´€ì ìœ¼ë¡œ ë³´ì´ëŠ” ê²ƒì€ ì²´ê°í•  ìˆ˜ ìˆë„¤ìš”. ë§ˆì§€ë§‰ìœ¼ë¡œ ë³€ê²½ëœ ì½”ë“œë¡œ ì´ì „ê³¼ ë™ì¼í•œ í…ŒìŠ¤íŠ¸ë¥¼ ëŒë ¤ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA20lEQVQY032PzZKCMBCEeRCQoOyqBBIlwfwQooi7te//Qr2VsaSsPexhanoO83V3VrId9g2H8xFjuMG6Cc5NMDbgdNZouEQnzjg2HXgr0XZJC0ipwKoaxabCptyuO8tzBlbXsC4gxoWAacI0Y75/Y4p33OYvWBtWncyXxw/2B468YAR6QbOy2kENhgDGjpRsuHh4HyFEj14ZumkPDkoZMkz3xXgobSBkT7AVyIV81rUBfrxSEj04tN0Jh2NLKV4P/82zcsGw/fgkV60tucbrQjrtlPi91t95h6WEv6vKmQfc+Ee7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test_result_way2\"\n        title=\"test_result_way2\"\n        src=\"/static/f0035475f5226b8230006aba66585936/37523/test_result_way2.png\"\n        srcset=\"/static/f0035475f5226b8230006aba66585936/e9ff0/test_result_way2.png 180w,\n/static/f0035475f5226b8230006aba66585936/f21e7/test_result_way2.png 360w,\n/static/f0035475f5226b8230006aba66585936/37523/test_result_way2.png 720w,\n/static/f0035475f5226b8230006aba66585936/302a4/test_result_way2.png 1080w,\n/static/f0035475f5226b8230006aba66585936/ee3fb/test_result_way2.png 1144w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì •ìƒì ìœ¼ë¡œ í†µê³¼í•©ë‹ˆë‹¤ğŸ˜„</p>\n<h2 id=\"ê²°ë¡ -ê·¸ë˜ì„œ-ì–´ë–¤-ë°©ë²•ì´-ì¢‹ì„ê¹Œ\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0-%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EB%96%A4-%EB%B0%A9%EB%B2%95%EC%9D%B4-%EC%A2%8B%EC%9D%84%EA%B9%8C\" aria-label=\"ê²°ë¡  ê·¸ë˜ì„œ ì–´ë–¤ ë°©ë²•ì´ ì¢‹ì„ê¹Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²°ë¡ : ê·¸ë˜ì„œ ì–´ë–¤ ë°©ë²•ì´ ì¢‹ì„ê¹Œ?ğŸ§</h2>\n<p>ë‘ ë²ˆì§¸ ë°©ë²•ì´ ê°ì²´ ìì²´ë¥¼ í™œìš©í•˜ê³  ì¡°ê¸ˆ ë” ì§ê´€ì ì´ë¼ëŠ” ì¥ì ì´ ìˆì§€ë§Œ, ì‚¬ì‹¤ <code class=\"language-text\">and</code> ì—°ì‚°ì— í•œì •ëœë‹¤ëŠ” ë‹¨ì  ì—­ì‹œ ì¡´ì¬í•©ë‹ˆë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ì–´ <strong>í…Œë§ˆê°€ 1ë²ˆì´ê±°ë‚˜ 2ë²ˆì¸ ëª¨ë“  ì˜ˆì•½ì„ ì¡°íšŒ</strong>í•œë‹¤ê³  í•  ë•Œ, ì²« ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‰½ê²Œ ì–»ì–´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë‘ ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œëŠ” êµ¬í˜„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Specification</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">></span></span> specs <span class=\"token operator\">=</span> <span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasMemberId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">or</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ReservationFilterSpecs</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasThemeId</span><span class=\"token punctuation\">(</span>themeId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì§€ê¸ˆ ìš”êµ¬ì‚¬í•­ì—ì„œëŠ” andë§Œ ì‚¬ìš©í•˜ê³  ìˆê¸°ì— í¬ê²Œ ë¬¸ì œê°€ ì—†ìœ¼ë‚˜ <code class=\"language-text\">or ë° ê¸°íƒ€ ì—°ì‚°</code>ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ì‚¬ìš©í•˜ê¸° í˜ë“  ë°©ë²•ì´ê¸°ë„ í•©ë‹ˆë‹¤. ì§€ê¸ˆì€ í•™ìŠµ ë‹¨ê³„ì´ê¸°ì— ë‚´ë¶€ì—ì„œ ì¡°ë¦½í•˜ëŠ” ë°©ë²•ì„ ì‹œë„í•´ë³¸ ê²ƒì´ì§€ë§Œ, <strong>í™•ì¥ì„±ì„ ê³ ë ¤í•˜ë©´ ê³µì‹ ë¬¸ì„œì— ë‚˜ì˜¨ ê²ƒ ì²˜ëŸ¼ static ë©”ì„œë“œë¡œ êµ¬ì„±í•˜ëŠ” ì²« ë²ˆì§¸ ë°©ë²•ì´ ë” ì¢‹ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤</strong>.</p>\n<p>ê¸€ì´ ì´ë ‡ê²Œ ê¸¸ì–´ì§ˆ ì¤„ ëª°ëëŠ”ë°.. í•„ìš”í•˜ë‹¤ê³  ëŠê»´ì§€ëŠ” ê²ƒì„ ë„£ë‹¤ë³´ë‹ˆ ì •ë§ ê¸¸ì–´ì¡Œë„¤ìš”. ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬ë“œë¦¬ê³ , ì¦ê±°ìš´ í•˜ë£¨ ë³´ë‚´ì„¸ìš”ğŸ™‡</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%AA%A9%ED%91%9C\">ëª©í‘œ</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%BD%94%EB%93%9C\">ê¸°ë³¸ ì½”ë“œ</a></p>\n<ul>\n<li><a href=\"#entity\">Entity</a></li>\n<li><a href=\"#api\">API</a></li>\n<li><a href=\"#%EC%9D%91%EB%8B%B5-dto\">ì‘ë‹µ DTO</a></li>\n<li><a href=\"#%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\">ì»¨íŠ¸ë¡¤ëŸ¬</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%9A%A9-%EB%8D%B0%EC%9D%B4%ED%84%B0\">í…ŒìŠ¤íŠ¸ìš© ë°ì´í„°</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EA%B8%B0-%EC%A0%84%EC%97%90\">ë“¤ì–´ê°€ê¸° ì „ì—..</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%B2%AB-%EB%B2%88%EC%A7%B8-%EB%B0%A9%EB%B2%95\">ì²« ë²ˆì§¸ ë°©ë²•</a></p>\n<ul>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%A1%B0%EA%B8%88-%EB%8B%A4%EB%A5%B8-%EB%B0%A9%EB%B2%95\">(ì°¸ê³ ) ì¡°ê¸ˆ ë‹¤ë¥¸ ë°©ë²•</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8\">í…ŒìŠ¤íŠ¸</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%91%90-%EB%B2%88%EC%A7%B8-%EB%B0%A9%EB%B2%95\">ë‘ ë²ˆì§¸ ë°©ë²•</a></p>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0-%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EB%96%A4-%EB%B0%A9%EB%B2%95%EC%9D%B4-%EC%A2%8B%EC%9D%84%EA%B9%8C\">ê²°ë¡ : ê·¸ë˜ì„œ ì–´ë–¤ ë°©ë²•ì´ ì¢‹ì„ê¹Œ?ğŸ§</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 28, 2024","title":"Spring Data JPAì—ì„œì˜ ë™ì  ì¿¼ë¦¬ 2 - Specification í™œìš©","categories":"level2 Spring Specification","author":"ì´ìƒì§„","emoji":"ğŸŒ±"},"fields":{"slug":"/woowacourse/level2/Specification_íƒêµ¬ì™€_í™œìš©/2/"}},"prev":{"id":"bfe0fa40-34f2-5b61-933a-b7deb86cfa75","html":"<h2 id=\"ë°°ê²½\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%EA%B2%BD\" aria-label=\"ë°°ê²½ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë°°ê²½</h2>\n<p>íŒ€ì›ì˜ ì½”ë“œë¥¼ ë¦¬ë·°í•˜ê³  ìˆì—ˆëŠ”ë°, ì•„ë˜ì™€ ê°™ì€ ì½”ë“œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>ì‹¤ì œ ì½”ë“œì™€ ë‹¤ë¥´ë©° ë‚´ìš© íŒŒì•…ì„ ìœ„í•´ ì¼ë¶€ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<p>ë‚´ìš©ì€ ì¤‘ìš”í•˜ì§€ ì•Šê¸´ í•˜ì§€ë§Œ.. ê°„ë‹¨í•˜ê²Œë§Œ ë§ì”€ë“œë¦¬ë©´ ELBì—ì„œì˜ í—¬ìŠ¤ì²´í¬ë¥¼ ì˜ë„ì ìœ¼ë¡œ ì‹¤íŒ¨í•˜ë„ë¡ í•˜ëŠ” API ì…ë‹ˆë‹¤.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/terminate\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Void</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">terminate</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">String</span> remoteHost <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getRemoteHost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>remoteHost<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"0:0:0:0:0:0:0:1\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>remoteHost<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>remoteHost<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        isTerminated<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span><span class=\"token constant\">FORBIDDEN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>ì´ ì½”ë“œì—ì„œì˜ í•µì‹¬ì€ <strong>í´ë¼ì´ì–¸íŠ¸ì˜ IP(=remoteHost)ê°€ ë¡œì»¬í˜¸ìŠ¤íŠ¸ì¸ ê²½ìš°ì—ë§Œ OK ì‘ë‹µ</strong>ì„ ì£¼ê² ë‹¤ëŠ” ê±´ë°, ì—¬ê¸°ì„œ ì˜ë¬¸ì´ ë“¤ì—ˆë˜ ê²ƒì€ â€œ<strong>Nginx ì„¤ì •ê³¼ ë¬´ê´€í•˜ê²Œ getRemoteHost()ê°€ í•­ìƒ ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ë°˜í™˜í•  ê²ƒì„ ë³´ì¥í•˜ëŠ”ì§€?</strong>â€ ì˜€ëŠ”ë°ìš”, ì˜ë¬¸ì´ ë“¤ì—ˆë˜ ë‚´ìš©ë¶€í„° ì‹¤ì œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë©° í™•ì¸í•œ ê²°ê³¼ë¥¼ í•˜ë‚˜í•˜ë‚˜ ì‘ì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABK0lEQVQoz2WRz0oDMRCH9yW9+ga+gu8gguhFFEE8CF6ECp7EgwgelKKIKLSHCi1qt62bTJLJfpLs9o868MtMAvnyy0xR1zVzkQTLfa5jzmbYY3y5Sx0EjTUxKjHGLG3rdKegjV/g1bPYAMuXO/rb6+AM4gLWWqxIls97QUQoErmqKlZDzYQoszk2r5WxlOWMTzvlb1R+ll0maDEuS3b29jPdmApNbq4PkPuzBh48QUPmdkdvrHU2OXy6WLz1OnrkvHvEt0xx4inKcsLxySlRtemNt9RfPerJOyoGKy5/iwjPH302rrbo9G5JLzsXGE4GPAxusN4g4ihUlQRdNi4mW6B+MaQU4hzRK751Ox9IqsVbfPC5r/+H0nZtoRaqGjHW4lzjWFbknM85BOUH/K0b96vhphoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì¸í”„ë¼_êµ¬ì¡°\"\n        title=\"ì¸í”„ë¼_êµ¬ì¡°\"\n        src=\"/static/17bf5285cfa1dbc61cd59005efc0946d/37523/architecture.png\"\n        srcset=\"/static/17bf5285cfa1dbc61cd59005efc0946d/e9ff0/architecture.png 180w,\n/static/17bf5285cfa1dbc61cd59005efc0946d/f21e7/architecture.png 360w,\n/static/17bf5285cfa1dbc61cd59005efc0946d/37523/architecture.png 720w,\n/static/17bf5285cfa1dbc61cd59005efc0946d/302a4/architecture.png 1080w,\n/static/17bf5285cfa1dbc61cd59005efc0946d/37048/architecture.png 1352w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì‹œì‘í•˜ê¸° ì „ì—, ì´ë²ˆ ê¸€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì¸í”„ë¼ êµ¬ì¡°ì…ë‹ˆë‹¤!</p>\n<br/>\n<h2 id=\"ì§ˆë¬¸\" style=\"position:relative;\"><a href=\"#%EC%A7%88%EB%AC%B8\" aria-label=\"ì§ˆë¬¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì§ˆë¬¸</h2>\n<p>ì´ì „ ë¬¸ë‹¨ì— ë‚˜ì™”ë˜ ì½”ë“œì˜ getRemoteHost() ë¶€ë¶„ì— ì•„ë˜ì™€ ê°™ì€ ì§ˆë¬¸ì„ ë‚¨ê²¼ì—ˆìŠµë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15.555555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAhElEQVQI12VOTQ/CIBTj//8/NzN4ymbCYR7G18ExoOahmCU2adrXQ/sEkYQxBuv6hLUOPgTknHEcR9PmvzczpYRaKxhdQ4zYNotSCsS+v6DnBcN4hVSEaZIgukFK1bxShHl54DKMuGsN5/xfIQ/2IcGB87Gt8wLz81n5fdmzXnAuO2eMNyZO58ERVEn+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ì½”ë“œë¦¬ë·°_ì§ˆë¬¸\"\n        title=\"ì½”ë“œë¦¬ë·°_ì§ˆë¬¸\"\n        src=\"/static/f6e51f5433612ecbad74d64cf501da57/37523/question.png\"\n        srcset=\"/static/f6e51f5433612ecbad74d64cf501da57/e9ff0/question.png 180w,\n/static/f6e51f5433612ecbad74d64cf501da57/f21e7/question.png 360w,\n/static/f6e51f5433612ecbad74d64cf501da57/37523/question.png 720w,\n/static/f6e51f5433612ecbad74d64cf501da57/302a4/question.png 1080w,\n/static/f6e51f5433612ecbad74d64cf501da57/07a9c/question.png 1440w,\n/static/f6e51f5433612ecbad74d64cf501da57/d3b46/question.png 1690w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì°ì°í–ˆë˜ ì´ìœ ëŠ” ì´ì „ì— ELBë¥¼ ì‚¬ìš©í•˜ê¸° ì „ EC2ë¡œ ì§ì ‘ ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œ í´ë¼ì´ì–¸íŠ¸ ì •ë³´ë¥¼ ì½ì–´ì˜¤ì§€ ëª»í•´ ë¬¸ì œê°€ ë°œìƒí–ˆë˜ ê²½í—˜ì´ ìˆì—ˆê¸° ë•Œë¬¸ì¸ë°ìš”, ì´ë²ˆì— ELBë¥¼ ë„ì…í•˜ë©° ë¹„ìŠ·í•œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ë„ ìˆê² ë‹¤ëŠ” ìš°ë ¤ê°€ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤ ã…ã…</p>\n<blockquote>\n<p>ë‹¹ì‹œ ë°œìƒí–ˆë˜ ë¬¸ì œëŠ” getRemotePort()ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ ì‹¤ì œ ìš”ì²­ í¬íŠ¸(443)ì„ ì½ì§€ ëª»í•´ Swagger-UIì—ì„œ CORSê°€ ë°œìƒí–ˆë˜ ê²ƒì¸ë°ìš”, <a href=\"https://github.com/woowacourse-teams/2024-mouda/pull/506\">PR ë§í¬</a>ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<br/>\n<p>ì‹œì‘í•˜ê¸° ì „ì—, ìš°ì„  <code class=\"language-text\">getRemoteHost()</code>ì— ì–´ë–¤ ê°’ì´ ë“¤ì–´ê°€ëŠ”ì§€ë¶€í„° í™•ì¸í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” HttpServletRequetsì˜ êµ¬í˜„ í´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ì¸ Request í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Request</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">HttpServletRequest</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getRemoteHost</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remoteHost <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>connector<span class=\"token punctuation\">.</span><span class=\"token function\">getEnableLookups</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remoteHost <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRemoteAddr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n    \n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>remoteHost<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì½”ë“œë¥¼ ë³´ë©´, getRemoteHost()ë„ <code class=\"language-text\">getRemoteAddr()</code> (=í´ë¼ì´ì–¸íŠ¸ì˜ IP)ë¥¼ ê°’ìœ¼ë¡œ ê°€ì§€ëŠ”ë°ìš”, ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ê¸°ë¡í•˜ë ¤ë©´ ì•„ë˜ì˜ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<br/>\n<ul>\n<li><strong>í•„ìˆ˜</strong>:  Nginx ì„¤ì •íŒŒì¼ì— <code class=\"language-text\">proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</code> ë¥¼ ì¶”ê°€í•˜ì—¬ X-Forwarded-For í—¤ë”ë¥¼ springbootì— ì „ë‹¬í•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤d.</li>\n</ul>\n<ol>\n<li>application.ymlì— <code class=\"language-text\">server.forward-headers-strategy=native</code> ê³¼ ê°™ì€ Forward í—¤ë”ë¥¼ ì½ëŠ” ì„¤ì •ì„ ì¶”ê°€í•œë‹¤.</li>\n<li>ì„¤ì •ì„ ì¶”ê°€í•˜ì§€ ì•Šì•˜ë‹¤ë©´, getRemoteHost()ê°€ ì•„ë‹ˆë¼ <code class=\"language-text\">getHeader(â€X-Forwarded-Forâ€).split(â€, â€œ)[0]</code> ìœ¼ë¡œ ê°’ì„ ì½ì–´ì™€ì•¼ í•œë‹¤.</li>\n</ol>\n<p>ìœ„ ê³¼ì • ë˜ëŠ” ë¹„ìŠ·í•œ ê³¼ì •ì„ ê±°ì¹˜ì§€ ì•Šì•˜ë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ ì™¸ë¶€ì—ì„œì˜ ìš”ì²­ì—ë„ getRemoteHost()ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œì˜ ê²°ê³¼ê°€ Localhostê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤ ELBê°€ ì¶”ê°€ëœ í™˜ê²½ì—ì„œë„ í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ì •í™•í•˜ê²Œ ì½ì–´ì˜¬ ê²ƒì´ë¼ê³  ì˜ˆìƒë˜ê¸´ í•˜ëŠ”ë°ìš”, ê·¸ëŸ¼ì—ë„ ì˜ëª» í˜¸ì¶œë˜ëŠ” ê²½ìš° ì„œë²„ê°€ í„°ì§ˆ ìš°ë ¤ê°€ ìˆê¸°ì—.. ì ì–´ë„ í•œ ë²ˆì€ í™•ì¸í•´ë³¼ í•„ìš”ê°€ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>ì œ í…Œì½”í†¡(<a href=\"https://youtu.be/oUroldyG1_s?si=osh0ER_t6s8JWUNG&#x26;t=642\">ë§í¬</a>)ì—ì„œ X-Forwarded-For í—¤ë”ì™€ í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ê¸°ë¡í•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤ ã…ã… ì•„ë˜ ê¸€ì´ ì´í•´ê°€ ì•ˆ ê°€ì‹ ë‹¤ë©´ ì˜ìƒì„ ì°¸ê³ í•´ì£¼ì„¸ìš”!</p>\n</blockquote>\n<br/>\n<h2 id=\"í™•ì¸\" style=\"position:relative;\"><a href=\"#%ED%99%95%EC%9D%B8\" aria-label=\"í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í™•ì¸</h2>\n<p>ì´ì „ ë¬¸ë‹¨ì—ì„œ ë‹¤ë¤˜ë“¯ì´, í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ <strong>springbootë¡œ ê°€ëŠ” ìš”ì²­ì— í´ë¼ì´ì–¸íŠ¸ì˜ IPê°€ ë‹´ê¸´ X-Forwarded-For í—¤ë”ê°€ í¬í•¨</strong>ë˜ì–´ì•¼ í•˜ëŠ”ë°ìš”,</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAcklEQVQY062L6wrDIAyFff9XHIxBnXUdvZikP4ziGUbWJ2jgI+eSuBACvH9jmjyW5YtaK1QVWRWqBaUMelZ6Z74i59Hr1Q/tHs8XEhHWbUciBouAmC1jlovuRU6kRHZz2D5N/386LswRd46L8YPW2m38AJQvOOMN2pM2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ELBì—ì„œì˜ X-Forwarded-For í—¤ë” ì„¤ì •\"\n        title=\"ELBì—ì„œì˜ X-Forwarded-For í—¤ë” ì„¤ì •\"\n        src=\"/static/095d410edbfd1eedcf80b101867cf738/37523/xforwardedfor.png\"\n        srcset=\"/static/095d410edbfd1eedcf80b101867cf738/e9ff0/xforwardedfor.png 180w,\n/static/095d410edbfd1eedcf80b101867cf738/f21e7/xforwardedfor.png 360w,\n/static/095d410edbfd1eedcf80b101867cf738/37523/xforwardedfor.png 720w,\n/static/095d410edbfd1eedcf80b101867cf738/302a4/xforwardedfor.png 1080w,\n/static/095d410edbfd1eedcf80b101867cf738/67a79/xforwardedfor.png 1408w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><code class=\"language-text\">AWS ELB ìƒì„¸ í˜ì´ì§€ â†’ ì‘ì—… â†’ Load Balancer ì†ì„± í¸ì§‘</code>ì— ìˆëŠ” ìœ„ ì„¤ì •ìœ¼ë¡œ X-Forwarded-For í—¤ë” ì„¤ì •ì´ ê°€ëŠ¥í•˜ë©°, ê° í•­ëª©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n<ul>\n<li><strong>ì²¨ë¶€</strong>: X-Forwarded-For í—¤ë”ì— í´ë¼ì´ì–¸íŠ¸ì˜ IPë¥¼ ì €ì¥(ì¶”ê°€) í•˜ì—¬ ì„œë²„ë¡œ ì „ë‹¬</li>\n<li><strong>ë³´ì¡´</strong>: ê¸°ì¡´ì˜ X-Forwarded-Forë¥¼ ê·¸ëŒ€ë¡œ ì „ë‹¬</li>\n<li><strong>ì œê±°</strong>: ê¸°ì¡´ì˜ X-Forwarded-Forê°€ ìˆìœ¼ë©´ ì‚­ì œ</li>\n</ul>\n<p>ë”°ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ëŠ” ELBì—ì„œëŠ” í•´ë‹¹ ì„¤ì •ì´ â€˜<code class=\"language-text\">ì²¨ë¶€</code>â€™ë¡œ ë˜ì–´ ìˆì–´ì•¼ ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ì˜ IPê°€ ê¸°ë¡ë˜ì–´ ì „ë‹¬ë©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> headers <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrequest<span class=\"token punctuation\">.</span><span class=\"token function\">getHeaderNames</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">asIterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">forEachRemaining</span><span class=\"token punctuation\">(</span>headerName <span class=\"token operator\">-></span> headers<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>headerName<span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getHeader</span><span class=\"token punctuation\">(</span>headerName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p>í™•ì¸ì€ ìœ„ ì½”ë“œë¥¼ ì´ìš©í•˜ì—¬ ì‹¤ì œ ìš”ì²­ì— ìˆëŠ” ëª¨ë“  í—¤ë”ë¥¼ ì¶œë ¥í•œ ë’¤ EC2 ë‚´ë¶€ì˜ Nginx ì„¤ì •ì— ë”°ë¼ X-Forwarded-For í—¤ë”ê°€ ì–´ë–»ê²Œ ë‹¬ë¼ì§€ëŠ”ì§€, ì‹¤ì œ í—¤ë”ê°€ í¬í•¨ë˜ê³ , í´ë¼ì´ì–¸íŠ¸ì˜ IPê°€ ì˜ ì „ë‹¬ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ”ê²Œ ëª©í‘œì…ë‹ˆë‹¤!</p>\n<br/>\n<h3 id=\"1-nginx-ì„¤ì •ì—-x-forwarded-for-í—¤ë”-ì„¤ì •ì´-ìˆëŠ”-ê²½ìš°\" style=\"position:relative;\"><a href=\"#1-nginx-%EC%84%A4%EC%A0%95%EC%97%90-x-forwarded-for-%ED%97%A4%EB%8D%94-%EC%84%A4%EC%A0%95%EC%9D%B4-%EC%9E%88%EB%8A%94-%EA%B2%BD%EC%9A%B0\" aria-label=\"1 nginx ì„¤ì •ì— x forwarded for í—¤ë” ì„¤ì •ì´ ìˆëŠ” ê²½ìš° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Nginx ì„¤ì •ì— X-Forwarded-For í—¤ë” ì„¤ì •ì´ ìˆëŠ” ê²½ìš°</h3>\n<div class=\"gatsby-highlight\" data-language=\"nginx\"><pre class=\"language-nginx\"><code class=\"language-nginx\"><span class=\"token directive\"><span class=\"token keyword\">location</span> /</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_pass</span> http://localhost:8080</span><span class=\"token punctuation\">;</span>\n        <span class=\"token directive\"><span class=\"token keyword\">proxy_set_header</span> X-Forwarded-For <span class=\"token variable\">$proxy_add_x_forwarded_for</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nginx í¬ì›Œë”© ì„¤ì •ì— proxy_set_headerë¥¼ ì¶”ê°€í•˜ê³ , springbootë¡œ ìš”ì²­ì„ ë³´ë‚¸ ë’¤ í—¤ë”ë¥¼ ì¶œë ¥í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ x-forwarded-for í—¤ë”ì— ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ì˜ IP(1.22~)ì™€ ELBì˜ IP(172.3~)ê°€ í¬í•¨ë©ë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAhklEQVQY03VQ4QqGIAzs/Z9RMSv1l1H6R0W7jxOM6KPBcdttO9gmfERrDdd19ZzMemDEWyembdtgrYUxBsuyYF1XOOeQc0YIoevkUgpSSl333mOeZxzHceujN9FAKQUpJYQQ3ZAmHDjPE1prxBj78FikIXf2ff83/Dq51nqfR2Y98HzFUyd+MIA2P5PhrS8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"X-Forwarded-For ì„¤ì •ì„ ì¶”ê°€í–ˆì„ ë•Œì˜ ê²°ê³¼\"\n        title=\"X-Forwarded-For ì„¤ì •ì„ ì¶”ê°€í–ˆì„ ë•Œì˜ ê²°ê³¼\"\n        src=\"/static/05dfe8a2533b7d32aeb30585dc955493/37523/result_1.png\"\n        srcset=\"/static/05dfe8a2533b7d32aeb30585dc955493/e9ff0/result_1.png 180w,\n/static/05dfe8a2533b7d32aeb30585dc955493/f21e7/result_1.png 360w,\n/static/05dfe8a2533b7d32aeb30585dc955493/37523/result_1.png 720w,\n/static/05dfe8a2533b7d32aeb30585dc955493/2e694/result_1.png 1048w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<h3 id=\"2-nginx-ì„¤ì •ì—-x-forwarded-for-í—¤ë”-ì„¤ì •ì´-ì—†ëŠ”-ê²½ìš°\" style=\"position:relative;\"><a href=\"#2-nginx-%EC%84%A4%EC%A0%95%EC%97%90-x-forwarded-for-%ED%97%A4%EB%8D%94-%EC%84%A4%EC%A0%95%EC%9D%B4-%EC%97%86%EB%8A%94-%EA%B2%BD%EC%9A%B0\" aria-label=\"2 nginx ì„¤ì •ì— x forwarded for í—¤ë” ì„¤ì •ì´ ì—†ëŠ” ê²½ìš° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Nginx ì„¤ì •ì— X-Forwarded-For í—¤ë” ì„¤ì •ì´ ì—†ëŠ” ê²½ìš°</h3>\n<p>1ë²ˆì—ì„œì˜ proxy_set_header ë¼ì¸ì„ ì§€ìš°ê³  ë™ì¼í•˜ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ë©´, ì˜ˆìƒëŒ€ë¡œ ì•„ë˜ì™€ ê°™ì´ ELBì˜ IPëŠ” ê¸°ë¡ë˜ì§€ ì•Šê³  í´ë¼ì´ì–¸íŠ¸ì˜ IP ë§Œ ê¸°ë¡ë©ë‹ˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 694px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAiklEQVQY05WQSQrFIBBEvf/BshFF3HiJbOKUOMT6dIMhCFl84UFVaUvRYowBgs7U/2ZvRCkF13XhPE+8NZFzZv+VrfTeIfZ9h7UWWmtGKYVt2yCl5Nw5h9YaD5A2xiClhForZ1RiFuEP6TKEwBzH8eC958EY49OQ9PSfDe/7xmTdx8zpIbH6FdrhD4BJg3MbdgoSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"X-Forwarded-For ì„¤ì •ì´ ì—†ì„ ë•Œì˜ ê²°ê³¼\"\n        title=\"X-Forwarded-For ì„¤ì •ì´ ì—†ì„ ë•Œì˜ ê²°ê³¼\"\n        src=\"/static/ab360a7e937b32e31eed4af1103e32c2/31198/result_2.png\"\n        srcset=\"/static/ab360a7e937b32e31eed4af1103e32c2/e9ff0/result_2.png 180w,\n/static/ab360a7e937b32e31eed4af1103e32c2/f21e7/result_2.png 360w,\n/static/ab360a7e937b32e31eed4af1103e32c2/31198/result_2.png 694w\"\n        sizes=\"(max-width: 694px) 100vw, 694px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<h3 id=\"ê²°ë¡ \" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"ê²°ë¡  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²°ë¡ </h3>\n<ul>\n<li>ELBì—ì„œì˜ X-Forwarded-Header ì„¤ì •ì„ <code class=\"language-text\">ì²¨ë¶€</code></li>\n<li>springbootì— <code class=\"language-text\">server.forward-headers-strategy=native</code> ì„¤ì •</li>\n</ul>\n<p>ìœ„ì™€ ê°™ì€ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ í™˜ê²½ì—ì„œëŠ”, EC2ì˜ Nginxì— <code class=\"language-text\">proxy_set_header X-Forwarded-For \"127.0.0.1\";</code> ì™€ ê°™ì´ localhostë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•ŠëŠ” í•œ, ì¸ìŠ¤í„´ìŠ¤ ì™¸ë¶€ ìš”ì²­ì— ëŒ€í•œ getRemoteHost() ê°’ì´ localhostê°€ ë  ìˆ˜ ì—†ìŒì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<br/>\n<h2 id=\"ì˜ì˜\" style=\"position:relative;\"><a href=\"#%EC%9D%98%EC%9D%98\" aria-label=\"ì˜ì˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì˜ì˜</h2>\n<p>AWSì™€ ê°™ì€ ë°°í¬ ë° ì¸í”„ë¼ ì‘ì—…ì€, ì–´ëŠì •ë„ ê²°ê³¼ê°€ ì˜ˆìƒë˜ë„ í™•ì‹¤í•˜ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ”ê²Œ ì†ì´ í¸í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ê¸€ì—ì„œ ë‹¤ë£¬ ë‚´ìš©ì€ ì§„ì‘ì— ì•Œë˜ ë‚´ìš©ì´ì§€ë§Œ í™•ì‹¤í•˜ê²Œ í•˜ì§€ ì•Šìœ¼ë©´ ì—„ì²­ë‚˜ê²Œ í° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì‚¬ì „ì— í™•ì¸í•´ë³´ëŠ”,  â€˜ì ˆë²½ì— ìˆëŠ” ëŒë‹¤ë¦¬ë¥¼ ë‘ë“¤ê²¨ë³´ê³  ê±´ë„ˆëŠ”â€™ ì‘ì—…ì´ì—ˆë‹¤ëŠ” ì ì—ì„œ ì˜ë¯¸ê°€ ìˆì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤ ã…ã…</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%B0%B0%EA%B2%BD\">ë°°ê²½</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A7%88%EB%AC%B8\">ì§ˆë¬¸</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%99%95%EC%9D%B8\">í™•ì¸</a></p>\n<ul>\n<li><a href=\"#1-nginx-%EC%84%A4%EC%A0%95%EC%97%90-x-forwarded-for-%ED%97%A4%EB%8D%94-%EC%84%A4%EC%A0%95%EC%9D%B4-%EC%9E%88%EB%8A%94-%EA%B2%BD%EC%9A%B0\">1. Nginx ì„¤ì •ì— X-Forwarded-For í—¤ë” ì„¤ì •ì´ ìˆëŠ” ê²½ìš°</a></li>\n<li><a href=\"#2-nginx-%EC%84%A4%EC%A0%95%EC%97%90-x-forwarded-for-%ED%97%A4%EB%8D%94-%EC%84%A4%EC%A0%95%EC%9D%B4-%EC%97%86%EB%8A%94-%EA%B2%BD%EC%9A%B0\">2. Nginx ì„¤ì •ì— X-Forwarded-For í—¤ë” ì„¤ì •ì´ ì—†ëŠ” ê²½ìš°</a></li>\n<li><a href=\"#%EA%B2%B0%EB%A1%A0\">ê²°ë¡ </a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9D%98%EC%9D%98\">ì˜ì˜</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"November 05, 2024","title":"AWS ELB ì™€ Springboot ì—ì„œì˜ í´ë¼ì´ì–¸íŠ¸ IP í™•ì¸","categories":"level4 aws","author":"ì´ìƒì§„","emoji":"ğŸ–¥"},"fields":{"slug":"/woowacourse/level4/í´ë¼ì´ì–¸íŠ¸_IP_í™•ì¸/"}},"site":{"siteMetadata":{"siteUrl":"https://pricelees.github.io","comments":{"utterances":{"repo":"pricelees/pricelees.github.io"}}}}},"pageContext":{"slug":"/woowacourse/level2/API_BREAK_CHANGE/","nextSlug":"/woowacourse/level2/Specification_íƒêµ¬ì™€_í™œìš©/2/","prevSlug":"/woowacourse/level4/í´ë¼ì´ì–¸íŠ¸_IP_í™•ì¸/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}